if (self.CavalryLogger) { CavalryLogger.start_js(["nX5qv"]); }

__d("MessengerAttachmentImageBlockUtils.bs",["isFacebookURI","isLinkshimURI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){__p&&__p();var e=function(a){return a.getPath().toString().indexOf("/moments_app")===0},f=function(a,b){if(a<=300)return b<=300;else return!1};if(f(a,c))return!0;else if(b("isFacebookURI")(d)&&!b("isLinkshimURI")(d))return!e(d);else return!1}f.isIcon=a}),null);
__d("MessengerAttachmentImageBlockUtils.re",["bs_curry","MessengerAttachmentImageBlockUtils.bs"],(function(a,b,c,d,e,f){a=function(a,c,d){a=b("bs_curry")._3(b("MessengerAttachmentImageBlockUtils.bs").isIcon,a,c,d);return a};f.isIcon=a}),null);
__d("MessengerAttachmentImageBlock.react",["cx","MessengerAttachmentImageBlockUtils.re","React","StoryAttachmentStyle","URI","WorkChatRedesignedMessageListCheck.re","cssURL","gkx","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:b("joinClasses")(this.props.className,this.$1())},this.$2(),b("React").createElement("div",{className:"_5swm"},this.props.children))};d.$2=function(){__p&&__p();if(!this.props.attachment.media||!this.props.attachment.media.image)return null;var a=this.$3(),c=a.height;a=a.width;var d=c>a,e=new(b("URI"))(this.props.attachment.uri);e=b("MessengerAttachmentImageBlockUtils.re").isIcon(c,a,e);c=c&&a?c/a*100:100;a=d||e?.2:1;e=d||e?c:52;d={backgroundImage:b("cssURL")(this.props.attachment.media.image),minHeight:"0px",paddingBottom:d&&c>150?"136px":e*a+"%"};this.props.attachment.description&&this.props.attachment.source&&(d.minHeight="112px");b("WorkChatRedesignedMessageListCheck.re").enabled&&(d.paddingBottom="0px",d.minHeight="0px");return b("React").createElement("div",{className:"_3xn1",style:d})};d.$1=function(){if(!this.props.attachment.media||!this.props.attachment.media.image)return"_3xn3 _5swn";var a=this.$3(),c=a.height;a=a.width;var d=c>a,e=new(b("URI"))(this.props.attachment.uri);e=b("MessengerAttachmentImageBlockUtils.re").isIcon(c,a,e);return"_3xn3"+(e&&!d?" _3xn5":"")+(d?" _3xn6":"")+(a>=c&&!e?" _3xn7":"")+(b("gkx")("678605")&&this.$4()?" _2e9e":"")};d.$4=function(){var a=this.props.attachment.style_list;return Array.isArray(a)&&a[0]==b("StoryAttachmentStyle").LIGHTWEIGHT_ACTION};d.$5=function(){var a=this.props.attachment.properties;return!a||!a.height||!a.width?null:{height:a.height,width:a.width}};d.$3=function(){var a=this.$5()||this.props.attachment.media.image_size||{},b=a.height;a=a.width;if(b&&a){b=parseInt(b,10);a=parseInt(a,10);return{height:b,width:a}}return{height:0,width:0}};return c}(b("React").Component);c.propTypes={attachment:a.object.isRequired};e.exports=c}),null);
__d("MessengerActionsIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement("svg",{height:"22px",width:"22px",viewBox:"0 0 36 36"},b("React").createElement("g",{id:"dots-3-horizontal",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},b("React").createElement("g",{id:"Page-1",fill:a},b("React").createElement("path",{id:"Fill-1",d:"M7,18 C7,16.4815417 8.23154167,15.25 9.75,15.25 C11.2684583,15.25 12.5,16.4815417 12.5,18 C12.5,19.5189167 11.2684583,20.75 9.75,20.75 C8.23154167,20.75 7,19.5189167 7,18 Z M15.25,18 C15.25,16.4815417 16.4815417,15.25 18,15.25 C19.5184583,15.25 20.75,16.4815417 20.75,18 C20.75,19.5189167 19.5184583,20.75 18,20.75 C16.4815417,20.75 15.25,19.5189167 15.25,18 Z M23.5,18 C23.5,16.4815417 24.7315417,15.25 26.25,15.25 C27.7684583,15.25 29,16.4815417 29,18 C29,19.5189167 27.7684583,20.75 26.25,20.75 C24.7315417,20.75 23.5,19.5189167 23.5,18 Z"}))))}f.make=a}),null);
__d("MessengerContextualActions.react",["cx","ContextualLayerUpdateOnScroll","LayerHideOnBlur","Link.react","React","ReactAbstractContextualDialog","ReactLayer"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;var h=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({displayName:"MessengerContextualActionsDialog",theme:{wrapperClassName:"_hw2",arrowDimensions:{offset:12,length:12}}}));c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("li",{className:"_hw4"},b("React").createElement(b("Link.react"),{className:"_hw5",onClick:this.props.onClick},this.props.children))};return c}(b("React").Component);c.propTypes={onClick:a.func};d=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);return b("React").createElement(h,babelHelpers["extends"]({alignment:"center",behaviors:{ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll"),LayerHideOnBlur:b("LayerHideOnBlur")}},a,{onToggle:this.props.onToggle}),b("React").createElement("ul",{className:"_hw3"},c))};return c}(b("React").Component);d.propTypes={onToggle:a.func};d.Item=c;e.exports=d}),null);
__d("MessengerCopyLinkActionItem.react",["fbt","FBClipboardLink.react","MessengerConfig","MessengerContextualActions.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerContextualActions.react").Item;function a(a){return(a==null?void 0:(a=a.attachments)==null?void 0:(a=a[0])==null?void 0:(a=a.share)==null?void 0:a.uri)!=null&&b("MessengerConfig").CopyAttachmentLink}function c(a){var c=a.message,d=a.onClick;c=String(c==null?void 0:(a=c.attachments)==null?void 0:(c=a[0])==null?void 0:(a=c.share)==null?void 0:a.uri);a=g._("Copiar link para compartilhar");return b("React").createElement(h,{onClick:function(){return d()}},b("React").createElement(b("FBClipboardLink.react"),{suppress:!0,tooltip:null,value:c},a))}e.exports={actionItem:c,shouldRender:a}}),null);
__d("MessengerDeepLinkActionItem.react",["fbt","FBClipboardLink.react","MessengerConfig","MessengerContextualActions.react","MessengerURIUtils.bs","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerContextualActions.react").Item;function a(){return b("MessengerConfig").ShowMessageLinks}function c(a){var c=a.onClick;a=a.message;a=b("MessengerURIUtils.bs").getURIForMessage(a).getQualifiedURIBase().toString();var d=g._("Copiar link");return b("React").createElement(h,{key:"react",onClick:c},b("React").createElement(b("FBClipboardLink.react"),{suppress:!0,tooltip:null,value:a},d))}e.exports={actionItem:c,shouldRender:a}}),null);
__d("MessengerDeleteMessageDialogReact.bs",["fbt","bs_block","bs_curry","ReasonReact.bs","MessengerDialogReact.bs","MessengerDialogBodyReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ReasonReact.bs").reducerComponent("MessengerDeleteMessageDialogReact");function i(){return g._("Excluir mensagem")}var j=g._("Tem certeza de que deseja excluir essa mensagem?");function k(){return g._("Excluir")}function l(a,c,d,e){return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],function(c){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog[0](void 0,a,void 0,c[1][0],void 0,void 0,void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("bs_curry")._3(b("MessengerDialogReact.bs").Header[0],void 0,void 0,i(0))),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogBodyReact.bs").make(void 0,[j])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer[0](void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").CancelButton[0](d,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button[0](void 0,k(0),void 0,"danger",function(){return b("bs_curry")._1(c[3],0)},0,void 0,void 0,void 0,[]))]))]))},function(){return[!0]},h[10],function(a,d){return b("bs_block").__(2,[[!1],function(){return b("bs_curry")._1(c,0)}])},h[12]]}a=b("ReasonReact.bs").wrapReasonForJs(h,function(a){return l(a.onToggle,a.onDelete,a.onCancel,[])});f.component=h;f.renderDialogHeaderMsg=i;f.dialogBodyMsg=j;f.renderDialogButtonMsg=k;f.make=l;f.jsComponent=a}),null);
__d("MessengerDeleteMessageActionItem.react",["fbt","Bootloader","CurrentUser","MercuryMessageActions","MessengerContextualActions.react","MessengerDeleteMessageDialogReact.bs","MessengerDialogs.bs","MessengerState.bs","React","qex"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerDeleteMessageDialogReact.bs").jsComponent,i=b("MessengerContextualActions.react").Item;function a(){return!0}c=b("React").createClass({displayName:"MessengerDeleteMessageAcitonItem",render:function(){return b("React").createElement(i,{key:"delete",onClick:this._handleDelete},b("qex")._("721176")?g._("Remover"):g._("Excluir"))},_handleDelete:function(){var a=this,c=this.props.message;if(b("qex")._("721176")){this._handleRemove();return}b("MessengerDialogs.bs").showDialog(function(){return b("React").createElement(h,{onDelete:function(){b("MercuryMessageActions").get()["delete"](c.thread_id,[c.message_id])},onToggle:a._handleDialogToggle,onCancel:function(){return a.props.onClick()},isFromViewer:a.props.isFromViewer})})},_handleRemove:function(){var a=this,c=b("MessengerState.bs").getThreadMetaNow(b("CurrentUser").getID(),this.props.message.thread_id);b("Bootloader").loadModules(["RemoveMessageDialog"],function(b){b.showDialog(a.props.message,c.thread_unsendability_status,a.props.isFromViewer,function(){return a.props.onClick()})},"MessengerDeleteMessageActionItem.react")},_handleDialogToggle:function(a){a||b("MessengerDialogs.bs").removeDialog()}});e.exports={actionItem:c,shouldRender:a}}),null);
__d("MessengerReactionActionItem.react",["fbt","MessengerContextualActions.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("MessengerContextualActions.react").Item;function a(){return!0}function c(a){a=a.onClick;return b("React").createElement(h,{key:"react",onClick:a},g._("Reagir"))}e.exports={actionItem:c,shouldRender:a}}),null);
__d("MessengerReplyActionItem.react",["fbt","Bootloader","CurrentUser","MessageReplyPermissions","MessengerContextualActions.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerContextualActions.react").Item;function a(a){return b("MessageReplyPermissions").canReplyToMessage(a)}function c(a){var c=a.onClick;a.message;a=function(){b("Bootloader").loadModules(["MessageReplyTypedLogger","MessageReplyEntryPoint","MessageReplyEvent"],function(a,c,d){a=new a();a.setEvent(d.REPLY_INITIATED).setIsWorkplace(b("CurrentUser").isWorkUser()).setEntryPoint(c.THREE_DOT_BUTTON).log()},"MessengerReplyActionItem.react"),c()};return b("React").createElement(h,{key:"react",onClick:a},g._("Responder"))}e.exports={actionItem:c,shouldRender:a}}),null);
__d("SaveMessageUtils",["MessengerDotComSaveModule","QE2Logger","StoryAttachmentStyle","immutable"],(function(a,b,c,d,e,f){__p&&__p();var g=b("immutable").Set.of(b("StoryAttachmentStyle").FALLBACK,b("StoryAttachmentStyle").SHARE,b("StoryAttachmentStyle").EVENT,b("StoryAttachmentStyle").ATTACHED_STORY,b("StoryAttachmentStyle").MUSIC_AGGREGATION,b("StoryAttachmentStyle").AVATAR),h=b("immutable").Set.of(b("StoryAttachmentStyle").GROUP_SELL_PRODUCT_ITEM);a={isSavableMessageAttachment:function(a){__p&&__p();var c=!0;for(var d=0;d<a.length;d++){if(a[d]==b("StoryAttachmentStyle").GROUP_SELL_PRODUCT_ITEM)if(b("MessengerDotComSaveModule").can_save_for_sale_item_attachment!=null){b("QE2Logger").logExposureForUser("marketplace_www_messenger_save");return b("MessengerDotComSaveModule").can_save_for_sale_item_attachment}else return!1;if(h.has(a[d]))return!0;g.has(a[d])||(c=!1)}return c}};e.exports=a}),null);
__d("XMessengerDotComSaveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/save/message/",{})}),null);
__d("MessengerSaveToFacebookActionItem.react",["fbt","AsyncRequest","CollectionCurationMechanisms","CollectionsDisplaySurface","CurrentUser","JSResource","LazyComponent.react","MercuryAttachmentType","MessengerConfig","MessengerContextualActions.react","MessengerDialogs.bs","MessengerDotComSaveModule","React","ReasonBootloadOnRender.react","ReasonResource","SavedStateActions","SaveMessageUtils","StoryAttachmentStyle","URLMatcher","XMessengerDotComSaveController","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerContextualActions.react").Item;function i(a){return j(a)&&!b("MessengerConfig").canSaveMessages&&!b("gkx")("843916")}function j(a){__p&&__p();if(b("MessengerDotComSaveModule").enabled_messenger_save&&k(a))return!0;if(b("MessengerDotComSaveModule").enabled_messenger_save&&a.attachments&&a.attachments.length>0&&a.attachments[0].share&&a.attachments[0].share.media&&a.attachments[0].share.media.playable)return!0;if(b("MessengerDotComSaveModule").enabled_messenger_save){a=b("URLMatcher").match(a.body);if(a!=null&&a.length>0)return!0}return!1}function k(a){__p&&__p();a=a.attachments;if(!a||a.length===0)return!1;for(var c=0;c<a.length;c++){var d=a[c];if(d.share&&d.share.style_list){var e=d.share.style_list;e=b("SaveMessageUtils").isSavableMessageAttachment(e)}else e=d.attach_type===b("MercuryAttachmentType").VIDEO;if(!e)return!1}return!0}a=b("React").createClass({displayName:"MessengerSaveToFacebookActionItem",render:function(){return i(this.props.message)&&b("React").createElement(h,{onClick:this._handleFacebookSave},this._renderSaveItemMsg())},_renderSaveItemMsg:function(){return b("CurrentUser").isWorkUser()?g._("Salvar no Workplace"):this._isMarketplaceAttachment()?g._("Salvar no Marketplace"):g._("Salvar no Facebook")},_isMarketplaceAttachment:function(){var a=this.props.message;if(!b("MessengerDotComSaveModule").enabled_messenger_save)return!1;a=(a=a)!=null?(a=a.attachments)!=null?(a=a[0])!=null?(a=a.share)!=null?a.style_list:a:a:a:a;if(a)for(var c=0;c<a.length;c++)if(a[c]===b("StoryAttachmentStyle").GROUP_SELL_PRODUCT_ITEM)return!0;return!1},_handleFacebookSave:function(){var a=this,c=this.props.message,d=b("CollectionsDisplaySurface").MESSENGER_DOT_COM_MESSAGE,e=b("CollectionCurationMechanisms").RIGHT_CLICK;new(b("AsyncRequest"))().setURI(b("XMessengerDotComSaveController").getURIBuilder().getURI()).setData({action:b("SavedStateActions").SAVE,surface:d,mechanism:e,message_id:c.message_id}).send();b("MessengerDialogs.bs").showDialog(function(){return b("React").createElement(b("ReasonBootloadOnRender.react"),{loader:b("ReasonResource")(b("JSResource")("MessengerSaveMessageDialogReact.bs").__setRef("MessengerSaveToFacebookActionItem.react")),placeholder:b("React").createElement("div",null),component:b("React").createElement(b("LazyComponent.react"),{onToggle:a._handleDialogToggle,isMarketplaceAttachment:a._isMarketplaceAttachment()})})});this.props.onClick()},_handleDialogToggle:function(a){a||b("MessengerDialogs.bs").removeDialog()}});e.exports={actionItem:a,shouldRender:i}}),null);
__d("MessengerSaveToMessengerActionItem.react",["fbt","AsyncRequest","CollectionCurationMechanisms","CollectionsDisplaySurface","JSResource","LazyComponent.react","MessengerConfig","MessengerContextualActions.react","MessengerDialogs.bs","React","ReasonBootloadOnRender.react","ReasonResource","SavedStateActions","XMessengerDotComSaveController","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerContextualActions.react").Item;function i(){return b("MessengerConfig").canSaveMessages&&!b("gkx")("843916")}a=b("React").createClass({displayName:"MessengerSaveToMessengerActionItem",render:function(){return i()&&b("React").createElement(h,{onClick:this._handleMessengerSave},g._("Salvar"))},_handleMessengerSave:function(){var a=this.props.message,c=b("CollectionsDisplaySurface").MESSENGER_DOT_COM_MESSAGE,d=b("CollectionCurationMechanisms").RIGHT_CLICK;new(b("AsyncRequest"))().setURI(b("XMessengerDotComSaveController").getURIBuilder().getURI()).setData({action:b("SavedStateActions").SAVE,surface:c,mechanism:d,message_id:a.message_id}).setHandler(this._showMessengerSaveConfirmationDialog).send();this.props.onClick()},_showMessengerSaveConfirmationDialog:function(a){var c=this;b("MessengerDialogs.bs").showDialog(function(){return b("React").createElement(b("ReasonBootloadOnRender.react"),{loader:b("ReasonResource")(b("JSResource")("MessengerSaveMessageDialogReact.bs").__setRef("MessengerSaveToMessengerActionItem.react")),placeholder:b("React").createElement("div",null),component:b("React").createElement(b("LazyComponent.react"),{onToggle:c._handleDialogToggle})})})},_handleDialogToggle:function(a){a||b("MessengerDialogs.bs").removeDialog()}});e.exports={actionItem:a,shouldRender:i}}),null);
__d("MessengerSetAsDescriptionActionItem.react",["fbt","CurrentUser","MercuryThreadActions","MessagingThreadCustomizationSource","MessengerAdminGroupUtils","MessengerConfig","MessengerContextualActions.react","MessengerState.bs","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerContextualActions.react").Item;function a(a){var c,d=b("MessengerState.bs").getThreadMetaNow(b("CurrentUser").getID(),a.thread_id),e=d&&d.associated_object;c=d&&d.marketplace_thread_data&&(((c=d.marketplace_thread_data)==null?void 0:c.for_sale_item)||((c=d.marketplace_thread_data)==null?void 0:c.buyer_fbid)||((c=d.marketplace_thread_data)==null?void 0:c.seller_fbid));return a.body!=null&&d!=null&&!d.is_canonical&&b("MessengerAdminGroupUtils").canUpdateThreadDescription(d,b("CurrentUser").getID())&&b("MessengerConfig").ILPMBE&&!e&&!c}function c(a){var c=a.message,d=a.onClick;a=function(){if(b("MessengerState.bs").isEmptyLocalThread(b("CurrentUser").getID(),c.thread_id))return;b("MercuryThreadActions").get().changeGroupThreadDescription(c.thread_id,c.body,b("MessagingThreadCustomizationSource").SET_FROM_MESSAGE);d()};return b("React").createElement(h,{onClick:a},g._("Configurar descri\u00e7\u00e3o do grupo"))}e.exports={actionItem:c,shouldRender:a}}),null);
__d("MessengerViewSourceActionItem.react",["fbt","FBLogger","MessengerContextualActions.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerContextualActions.react").Item;function a(a){return a()}function c(a){var c=a.onClick;a=a.isShowingOriginal;a=a?g._("Mostrar formatado"):g._("Mostrar original");var d=function(){b("FBLogger")("messenger_dot_com").info("formatting_toggled"),c()};return b("React").createElement(h,{onClick:d},a)}e.exports={actionItem:c,shouldRender:a}}),null);
__d("MessengerMessageActions.react",["ix","cssVar","cx","fbt","ContextualLayerAutoFlipHorizontal","ContextualLayerHideOnScrollOut","ContextualLayerUpdateOnScroll","CurrentUser","Image.react","LayerHideOnBlur","LayerHideOnEscape","MercuryMessageActions","MessengerActionsIconSVGM4React.bs","MessengerContextualActions.react","MessengerCopyLinkActionItem.react","MessengerDeepLinkActionItem.react","MessengerDeleteMessageActionItem.react","MessengerDotComAndInboxM4Check.bs","MessengerEnvironment","MessengerMessage.bs","MessengerReactionActionItem.react","MessengerReactionsMenu.react","MessengerReplyActionItem.react","MessengerSaveToFacebookActionItem.react","MessengerSaveToMessengerActionItem.react","MessengerSetAsDescriptionActionItem.react","MessengerViewSourceActionItem.react","React","WorkChatRedesignedMessageListCheck.re","asset","isMessengerMessageRemoved","tooltipPropsFor"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=b("MessengerCopyLinkActionItem.react").actionItem,l=b("MessengerCopyLinkActionItem.react").shouldRender,m=b("MessengerDeepLinkActionItem.react").actionItem,n=b("MessengerDeepLinkActionItem.react").shouldRender,o=b("MessengerDeleteMessageActionItem.react").actionItem,p=b("MessengerDeleteMessageActionItem.react").shouldRender,q=b("MessengerReactionActionItem.react").actionItem,r=b("MessengerReactionActionItem.react").shouldRender,s=b("MessengerReplyActionItem.react").actionItem,t=b("MessengerReplyActionItem.react").shouldRender,u=b("MessengerSaveToFacebookActionItem.react").actionItem,v=b("MessengerSaveToFacebookActionItem.react").shouldRender,w=b("MessengerSaveToMessengerActionItem.react").actionItem,x=b("MessengerSaveToMessengerActionItem.react").shouldRender,y=b("MessengerSetAsDescriptionActionItem.react").actionItem,z=b("MessengerSetAsDescriptionActionItem.react").shouldRender,A=b("MessengerViewSourceActionItem.react").actionItem,B=b("MessengerViewSourceActionItem.react").shouldRender,C=b("MessengerContextualActions.react").Item;a=b("React").PropTypes;c=b("React").createClass({displayName:"MessengerMessageActions",propTypes:{hasFormatting:a.func,isActive:a.bool,isDeletable:a.bool,isFromViewer:a.bool,isShowingOriginal:a.bool,includeReactions:a.bool,message:a.object.isRequired,onToggleOriginal:a.func,onShowMenu:a.func.isRequired,onReplyToMessage:a.func,isSavedView:a.bool},getDefaultProps:function(){return{isDeletable:!0}},getInitialState:function(){return{shown:!1,open:!1,hover:!1}},render:function(){var a=this,c=null;b("WorkChatRedesignedMessageListCheck.re").enabled?c=b("React").createElement(b("Image.react"),{src:this.state.hover?g("895434"):g("610910")}):b("CurrentUser").isWorkUser()?c=b("React").createElement(b("Image.react"),{src:g("559623")}):b("MessengerDotComAndInboxM4Check.bs").yes?c=b("MessengerActionsIconSVGM4React.bs").make(this.state.hover?"black":"rgba(0, 0, 0, 0.34)"):c=b("React").createElement(b("Image.react"),{src:g("559622")});var d=j._("Mais"),e=this.state.shown;e=e?null:b("tooltipPropsFor")(d,"above","center");return this.props.isActive?b("React").createElement("span",babelHelpers["extends"]({},e,{className:"_2rvp"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7i2l":""),ref:"actions",onClick:this._toggleShown,onMouseEnter:function(b){return a.setState({hover:!0})},onMouseLeave:function(b){return a.setState({hover:!1})}}),c,this.renderMenu(),this.renderLayers()):null},renderMenu:function(){var a=this;return!this.state.open?null:b("React").createElement(b("MessengerReactionsMenu.react"),{entryPoint:"dot_menu",message:this.props.message,onHide:this._hidePopover,refProp:function(){return a.refs.actions}})},_openPopover:function(){this.setState({open:!0,shown:!1})},_hidePopover:function(){this.setState({open:!1})},renderLayers:function(){if(!this.state.shown)return null;var a;this.props.isSavedView?a=this._getSaveListItems():b("isMessengerMessageRemoved")(this.props.message)?a=this._getRemovedTombstoneListItems():a=this._getThreadListItems();return b("React").createElement(b("MessengerContextualActions.react"),{behaviors:{ContextualLayerAutoFlipHorizontal:b("ContextualLayerAutoFlipHorizontal"),ContextualLayerHideOnScrollOut:b("ContextualLayerHideOnScrollOut"),ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll"),LayerHideOnEscape:b("LayerHideOnEscape"),LayerHideOnBlur:b("LayerHideOnBlur")},context:this.refs.actions,key:"dialog",onToggle:this._handleActionsToggle,shown:this.props.isActive},this._renderRetry(),a)},_getThreadListItems:function(){var a=this;return[v(this.props.message)&&b("React").createElement(u,{key:"SaveToFacebookActionItem",onClick:function(){return a._handleActionsToggle(!1)},message:this.props.message}),x()&&b("React").createElement(w,{key:"SaveToMessengerActionItem",onClick:function(){return a._handleActionsToggle(!1)},message:this.props.message}),p()&&b("React").createElement(o,{key:"DeleteMessageActionItem",isFromViewer:!!this.props.isFromViewer,onClick:function(){return a._handleActionsToggle(!1)},message:this.props.message}),l(this.props.message)&&b("React").createElement(k,{key:"CopyLinkActionItem",onClick:function(){return a._handleActionsToggle(!1)},message:this.props.message}),this.props.hasFormatting&&this.props.onToggleOriginal&&B(this.props.hasFormatting)&&b("React").createElement(A,{key:"ViewSourceActionItem",isShowingOriginal:!!this.props.isShowingOriginal,onClick:this._handleToggleOriginal}),b("MessengerEnvironment").messengerui&&n()&&b("React").createElement(m,{key:"DeepLinkActionItem",message:this.props.message,onClick:function(){return a._handleActionsToggle(!1)}}),this.props.includeReactions&&r()&&b("React").createElement(q,{key:"ReactionActionItem",message:this.props.message,onClick:this._openPopover}),!b("MessengerEnvironment").messengerui&&this.props.onReplyToMessage&&t(this.props.message)&&b("React").createElement(s,{key:"ReplyActionItem",message:this.props.message,onClick:this._handleReplyToMessage}),z(this.props.message)&&b("React").createElement(y,{key:"SetAsDescriptionActionItem",onClick:function(){return a._handleActionsToggle(!1)},message:this.props.message})].filter(Boolean)},_getSaveListItems:function(){var a=[];a.push(b("React").createElement(C,{key:"unsave-messenger",onClick:this._handleMessengerUnsave},this._renderUnsaveToMessengerItemMsg()));return a},_getRemovedTombstoneListItems:function(){var a=this;return[p()&&b("React").createElement(o,{key:"DeleteMessageActionItem",isFromViewer:!!this.props.isFromViewer,onClick:function(){return a._handleActionsToggle(!1)},message:this.props.message})].filter(Boolean)},_toggleShown:function(a){var b=this;a.stopPropagation();this.setState({shown:!this.state.shown},function(){return b.props.onShowMenu(b.state.shown)})},_renderUnsaveToMessengerItemMsg:function(){return j._("Remover dos Salvos")},_renderRetry:function(){return!b("MessengerMessage.bs").hasError(this.props.message)?null:b("React").createElement(C,{onClick:this._handleRetry},j._("Tentar novamente"))},_handleActionsToggle:function(a){a||this._handleDeselect()},_handleDeselect:function(){var a=this;this.setState({shown:!1},function(){return a.props.onShowMenu(a.state.shown)})},_handleMessengerUnsave:function(){this._handleActionsToggle(!1)},_handleRetry:function(){this._handleDeselect(),b("MercuryMessageActions").get().resend(this.props.message)},_handleToggleOriginal:function(){this.props.onToggleOriginal&&this.props.onToggleOriginal(),this._handleActionsToggle(!1)},_handleReplyToMessage:function(){this.props.onReplyToMessage&&this.props.onReplyToMessage(this.props.message),this._handleActionsToggle(!1)}});e.exports=c}),null);
__d("MercuryFallbackShareAttachmentTextBlock.react",["cx","LineClamp.react","MercuryShareAttachmentReactShape","MercuryShareAttachmentRenderLocations","React","WorkChatRedesignedMessageListCheck.re"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(!this.props||!this.props.attachment)return b("React").createElement("div",{className:"__6j"});return b("MercuryShareAttachmentRenderLocations").MESSENGER===this.props.location?b("React").createElement("div",{className:"__6j"},this.renderMessengerTitle(),this.renderMessengerDescription(),this.renderMessengerSource()):b("React").createElement("div",{className:"__6j"},this.renderTitle(),this.renderDescription(),this.renderSource(),this.props.extraComponent)};d.renderMessengerTitle=function(){return!this.props.attachment.title?null:b("React").createElement("div",{className:"__6k"},b("React").createElement(b("LineClamp.react"),{customEllipsis:" ",lines:2,lineHeight:18,fitHeightToShorterText:b("WorkChatRedesignedMessageListCheck.re").enabled},this.props.attachment.title))};d.renderMessengerDescription=function(){return!this.props.attachment.description?null:b("React").createElement("div",{className:"__6l"},b("React").createElement(b("LineClamp.react"),{customEllipsis:" ",lines:2,lineHeight:16,fitHeightToShorterText:b("WorkChatRedesignedMessageListCheck.re").enabled},this.props.attachment.description))};d.renderMessengerSource=function(){return!this.props.attachment.source?null:b("React").createElement("div",{className:"__6m"},this.props.attachment.source)};d.renderTitle=function(){return!this.props.attachment.title?null:b("React").createElement("div",{className:"__6k"+(!this.props.attachment.uri&&!this.props.attachment.description||this.props.attachment.target!=null&&this.props.attachment.target.lwa_type!=null&&this.props.attachment.target.lwa_state==="INITIATED"?" _2xsq":"")+(this.props.extraComponent?" _1dw9":"")},this.props.attachment.title)};d.renderDescription=function(){return!this.props.attachment.description?null:b("React").createElement("div",{className:"__6l"},this.props.attachment.description)};d.renderSource=function(){return!this.props.attachment.source?null:b("React").createElement("div",{className:"__6m"},this.props.attachment.source)};return c}(b("React").Component);c.propTypes={attachment:b("MercuryShareAttachmentReactShape"),extraComponent:a.object,location:a.oneOf(b("MercuryShareAttachmentRenderLocations").getValues())};e.exports=c}),null);
__d("MercuryShareImage.react",["cx","ChatImageArrowDirection","ChatImageWithArrow.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_4hsl"},b("React").createElement(b("ChatImageWithArrow.react"),{arrowDirection:b("ChatImageArrowDirection").BOTH,height:this.props.height,round:!!this.props.round,source:this.props.source,width:this.props.width}))};return c}(b("React").Component);c.propTypes={height:a.number.isRequired,round:a.bool,source:a.string.isRequired,width:a.number.isRequired};e.exports=c}),null);
__d("MercuryFallbackShareAttachmentContent.react",["cx","Image.react","ImageBlock.react","MercuryFallbackShareAttachmentTextBlock.react","MercuryShareAttachmentReactShape","MercuryShareAttachmentRenderLocations","MercuryShareImage.react","MessengerAttachmentImageBlock.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;var h=72;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.renderTextBlock=function(){return b("React").createElement(b("MercuryFallbackShareAttachmentTextBlock.react"),this.props)};d.renderChatImage=function(a){return b("React").createElement(b("ImageBlock.react"),{className:a,spacing:"medium"},b("React").createElement(b("MercuryShareImage.react"),{height:h,source:this.props.attachment.media.image,width:h}),b("React").createElement("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",height:h}},this.renderTextBlock()))};d.renderMessengerImage=function(a){return b("React").createElement(b("MessengerAttachmentImageBlock.react"),{className:a,attachment:this.props.attachment},this.renderTextBlock(),this.props.children)};d.renderDefaultImage=function(a){return b("React").createElement(b("ImageBlock.react"),{className:b("joinClasses")(this.props.className,a)},b("React").createElement(b("Image.react"),{className:"__6n",src:this.props.attachment.media.image,width:h}),this.renderTextBlock(),this.props.children)};d.getCSSClasses=function(){var a=this.props.attachment,c=this.props.location;return(b("MercuryShareAttachmentRenderLocations").CHAT===c?"_49or":"")+(b("MercuryShareAttachmentRenderLocations").CHAT_PREVIEW===c?" _324d":"")+(b("MercuryShareAttachmentRenderLocations").CHAT!==c?" _tih":"")+(a&&a.media.image?"":" _49ou")+" _310t"};d.render=function(){var a=this.props.attachment,c=this.props.location,d=this.getCSSClasses();if(a.media&&a.media.image){if(b("MercuryShareAttachmentRenderLocations").CHAT===c||b("MercuryShareAttachmentRenderLocations").CHAT_PREVIEW===c)return this.renderChatImage(d);else if(b("MercuryShareAttachmentRenderLocations").MESSENGER===c)return this.renderMessengerImage(d);return this.renderDefaultImage(d)}return b("React").createElement("div",{className:b("joinClasses")(this.props.className,d)},this.renderTextBlock(),this.props.children)};return c}(b("React").Component);c.propType={attachment:b("MercuryShareAttachmentReactShape"),location:a.oneOf(b("MercuryShareAttachmentRenderLocations").getValues())};e.exports=c}),null);
__d("XMessengerDotComSavedForLaterNuxSeenController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/save/savemessagenux/",{})}),null);
__d("MercuryFallbackShareAttachment.react",["cx","fbt","AsyncRequest","CollectionCurationMechanisms","CollectionsDisplaySurface","Link.react","MercuryFallbackShareAttachmentContent.react","MercuryShareAttachmentReactShape","MercuryShareAttachmentRenderLocations","MessengerAdsWebTypedLogger","MessengerDotComSaveModule","MNAdsLoggerEventEnum","React","ReactFragment","SaveMessageUtils","XMessengerDotComSavedForLaterNuxSeenController","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;var i="focus",j="click",k="scroll",l=1e4,m=3e4;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.state={showNux:!1,nuxDisabled:!1};return b}var d=c.prototype;d.renderLink=function(a){return b("MercuryShareAttachmentRenderLocations").isPreview(this.props.location)||!this.props.attachment.uri?a:b("React").createElement(b("Link.react"),{className:"_5rw4",href:this.props.attachment.uri,onClick:this.$1.bind(this),target:"_blank"},a,this.renderLayers())};d.render=function(){return this.renderLink(b("React").createElement(b("MercuryFallbackShareAttachmentContent.react"),babelHelpers["extends"]({ref:"mercury_fallback_share_attachment"},this.props)))};d.$1=function(a){__p&&__p();var c=this;if(this.props.isSponsored){a=this.props.attachment&&this.props.attachment.subattachments;if(!a)return;for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;new(b("MessengerAdsWebTypedLogger"))().setEvent(b("MNAdsLoggerEventEnum").LINK_CLICK).setIsSponsored(this.props.isSponsored).setItemID(f&&f.id).setMessageID(this.props.messageID).setPageID(this.props.pageID).log()}}if(this.state.nuxDisabled||!this.$2())return;this.$3();this.interactionTime=0;this.cancelMinConsumeTimeout=setTimeout(function(){c.$4()||c.setState({showNux:!0,nuxDisabled:!0})},l);this.cancelMaxConsumeTimeout=setTimeout(function(){c.$4()||(c.setState({showNux:!1,nuxDisabled:!1}),c.clearTimeouts())},m);var g=Date.now();this.cancelWindowInteractionTimeout=setTimeout(function(){c.$5(function(){this.interactionTime||(this.interactionTime=Date.now()-g)}.bind(c))},0)};d.clearTimeouts=function(){this.cancelWindowInteractionTimeout&&(clearTimeout(this.cancelWindowInteractionTimeout),this.cancelWindowInteractionTimeout=null),this.cancelMaxConsumeTimeout&&(clearTimeout(this.cancelMaxConsumeTimeout),this.cancelMaxConsumeTimeout=null),this.cancelMinConsumeTimeout&&(clearTimeout(this.cancelMinConsumeTimeout),this.cancelMinConsumeTimeout=null)};d.onNUXCloseButtonClick=function(){this.setState({showNux:!1}),this.$6(),this.$7(),this.clearTimeouts()};d.renderLayers=function(){var a=this;return this.$2()?b("ReactFragment").create(b("React").createElement(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.mercury_fallback_share_attachment},shown:this.state.showNux,onCloseButtonClick:this.onNUXCloseButtonClick.bind(this),position:"below",width:"custom",customwidth:300},h._("Agora voc\u00ea pode salvar links e v\u00eddeos no Facebook clicando com o bot\u00e3o direito do mouse em uma mensagem."))):null};d.$3=function(){this.$8||(this.$9=[],this.$8=[Event.listen(window,"click",this.$10.bind(this,j)),Event.listen(window,"focus",this.$10.bind(this,i)),Event.listen(window,"scroll",this.$10.bind(this,k))])};d.$10=function(a){this.$9.forEach(function(b){b.call(this,a)},this)};d.$5=function(a){this.$9.push(a)};d.$4=function(){return this.interactionTime&&this.interactionTime>0};d.$7=function(){if(this.$8){while(this.$8.length)this.$8.pop().remove();this.$8=null;this.$9=null}};d.$2=function(){return b("MessengerDotComSaveModule").eligible_for_nux&&this.$11()};d.$11=function(){var a=this.props.attachment;if(!a)return!1;a=a.style_list;return b("SaveMessageUtils").isSavableMessageAttachment(a)};d.$6=function(){new(b("AsyncRequest"))().setURI(b("XMessengerDotComSavedForLaterNuxSeenController").getURIBuilder().getURI()).setData({action:"impression",surface:b("CollectionsDisplaySurface").MESSENGER_DOT_COM_MESSAGE,mechanism:b("CollectionCurationMechanisms").SAVE_MESSAGE_NUX,object_id:this.props.message_id,collection_id:98}).send()};return c}(b("React").Component);c.propTypes={attachment:b("MercuryShareAttachmentReactShape"),isSponsored:a.bool,location:a.oneOf(b("MercuryShareAttachmentRenderLocations").getValues()),messageID:a.string,pageID:a.string};e.exports=c}),null);