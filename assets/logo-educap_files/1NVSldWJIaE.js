if (self.CavalryLogger) { CavalryLogger.start_js(["GZpax"]); }

__d("EventWatchStatusSelector",["csx","Arbiter","AsyncDialog","AsyncRequest","CSS","DOM","DOMQuery","Event"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){__p&&__p();this.$1=a.primaryButton;this.$2=a.menuElement;this.$3=a.initialStatus;this.$4=a.canViewerJoin;this.$5=a.isPublicEvent;this.$6=a.responsePrivacySurvey;var c=a.menuInstance.getTriggerElem();this.$7=b("DOMQuery").find(c,"._33n");this.$8=b("DOMQuery").find(c,"._33o");this.$9=b("DOMQuery").find(c,"._1gf3");b("Event").listen(a.menuElement,"click",function(){b("Arbiter").inform("EventWatchStatusSelector/menuItemClick")});b("Event").listen(a.primaryButton,"click",function(){this.$3=a.primaryStatus,this.$10(),this.$11(),this.$12()}.bind(this));a.menuInstance.subscribe("setMenu",function(){__p&&__p();var c=a.menuInstance.getMenu().getRoot();this.$13=b("DOMQuery").find(c,"._33q");this.$14=b("DOMQuery").find(c,"._33u");this.$15=b("DOMQuery").find(c,"._33v");this.$16=b("DOMQuery").find(c,"._33z");this.$17=b("DOMQuery").find(c,"._1gf5");this.$18=b("DOMQuery").find(c,"._1gfd");this.$19=b("DOMQuery").find(c,"._1gfe");this.$20=b("DOMQuery").scry(c,"._33-")[0];this.$21=b("DOMQuery").scry(c,"._33_")[0];this.$11();a.menuInstance.getMenu().subscribe("itemclick",function(a,b){a=b.item.getRoot().getAttribute("data-string");if(a==="watched-selected"||a==="going-selected"||a==="declined-selected")return;this.$3=a;window.setTimeout(this.$11.bind(this));this.$3==="unwatched"?this.$22():(this.$3==="going"||this.$3==="watched")&&this.$12()}.bind(this))}.bind(this))}var c=a.prototype;c.$12=function(){if(this.$6===void 0||this.$6===null)return;b("AsyncDialog").send(new(b("AsyncRequest"))(this.$6).setRelativeTo(this.$1))};c.$22=function(){b("DOM").insertAfter(this.$2,this.$1),b("DOM").remove(this.$2)};c.$10=function(){b("DOM").insertAfter(this.$1,this.$2),b("DOM").remove(this.$1)};c.$11=function(){this.$7&&b("CSS").conditionShow(this.$7,this.$3==="going"),this.$8&&b("CSS").conditionShow(this.$8,this.$3==="watched"),this.$9&&b("CSS").conditionShow(this.$9,this.$3==="declined"),this.$13&&b("CSS").conditionShow(this.$13,this.$3!=="going"&&this.$4),this.$14&&b("CSS").conditionShow(this.$14,this.$3==="going"),this.$15&&b("CSS").conditionShow(this.$15,this.$3!=="watched"),this.$16&&b("CSS").conditionShow(this.$16,this.$3==="watched"),this.$17&&b("CSS").conditionShow(this.$17,this.$3!=="declined"&&!this.$5),this.$18&&b("CSS").conditionShow(this.$18,this.$3==="declined"&&!this.$5),this.$19&&b("CSS").conditionShow(this.$19,this.$5),this.$20&&b("CSS").conditionShow(this.$20,this.$3==="going"&&this.$5),this.$21&&b("CSS").conditionShow(this.$21,this.$3==="watched"&&this.$5)};return a}();e.exports=a}),null);
__d("PopoverMenuContextMinWidth",["cx","CSS","Style","shield"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){__p&&__p();var c=this;this._onSetMenu=function(){c._menu=c._popoverMenu.getMenu();c._showSubscription=c._popover.subscribe("show",b("shield")(c._updateWidth,c));var a=c._updateWidth.bind(c);c._menuSubscription=c._menu.subscribe(["change","resize"],function(){window.setTimeout(a,0)});c._updateWidth()};this._popoverMenu=a;this._popover=a.getPopover()}var c=a.prototype;c.enable=function(){this._setMenuSubscription=this._popoverMenu.subscribe("setMenu",b("shield")(this._onSetMenu,this))};c.disable=function(){this._setMenuSubscription.unsubscribe(),this._setMenuSubscription=null,this._showSubscription&&(this._showSubscription.unsubscribe(),this._showSubscription=null),this._menuSubscription&&(this._menuSubscription.unsubscribe(),this._menuSubscription=null)};c._updateWidth=function(){var a=this._menu.getRoot(),c=this._popoverMenu.getTriggerElem();c=c.offsetWidth;b("Style").set(a,"min-width",c+"px");b("CSS").conditionClass(a,"_575s",c>=a.offsetWidth)};return a}();Object.assign(a.prototype,{_setMenuSubscription:null,_showSubscription:null,_menuSubscription:null});e.exports=a}),null);
__d("Selector",["csx","ArbiterMixin","BehaviorsMixin","Button","DOM","DOMQuery","mixin"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f){var g;g=a.call(this)||this;g._popoverMenu=b;g._button=c;g._menu=d;g._input=e;g.init();f.behaviors&&g.enableBehaviors(f.behaviors);return g}var d=c.prototype;d.init=function(){this._menu.subscribe("change",function(a,b){this._setLabelContent(b.label),this._input.value=b.value,this.inform("change",b)}.bind(this)),this._popoverMenu.getPopover().subscribe(["hide","show"],function(a){this.inform(a)}.bind(this))};d._getLabel=function(){return b("DOMQuery").find(this._button,"span._55pe")};d._setLabelContent=function(a){var c=this._getLabel();b("DOM").setContent(c,a)};d.getLabelContent=function(){var a=this._getLabel();return a.firstChild};d.setValue=function(a){this._menu.setValue(a)};d.getValue=function(){return this._input.value};d.getName=function(){return this._input.name};d.getButton=function(){return this._button};d.getMenu=function(){return this._menu};d.enable=function(){b("Button").setEnabled(this._button,!0),this._popoverMenu.enable()};d.disable=function(){b("Button").setEnabled(this._button,!1),this._popoverMenu.disable()};return c}(b("mixin")(b("ArbiterMixin"),b("BehaviorsMixin")));e.exports=a}),null);
__d("ContextualLayerAsyncRelative",["Event","Parent"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this._layer=a}var c=a.prototype;c.enable=function(){this._layerSubscription=this._layer.subscribe("show",this._attachListener.bind(this)),this._layer.isShown()&&this._attachListener()};c.disable=function(){this._layerSubscription.unsubscribe(),this._layerSubscription=null,this._listener&&(this._listener.remove(),this._listener=null)};c._attachListener=function(){this._listener=b("Event").listen(this._layer.getRoot(),"click",this._onclick.bind(this))};c._onclick=function(a){__p&&__p();var c=b("Parent").byTag(a.getTarget(),"A");if(!c)return;a=c.getAttribute("ajaxify");var e=c.href,f=a||e;if(c.rel==="async"||c.rel==="async-post"){d(["AsyncRequest"],function(a){a.bootstrap(f,this._layer.getContext(),c.rel==="async-post")}.bind(this));return!1}};return a}();Object.assign(a.prototype,{_layerSubscription:null,_listener:null});e.exports=a}),null);
__d("ContextualLayerPositionClassOnContext",["cx","CSS"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this._layer=a}var c=a.prototype;c.enable=function(){this._subscription=this._layer.subscribe("reposition",this._updateClassName.bind(this)),this._layer.isShown()&&this._updateClassName()};c.disable=function(){this._subscription.unsubscribe(),this._subscription=null,this._prevClassName&&(b("CSS").removeClass(this._layer.getContext(),this._prevClassName),this._prevClassName=null)};c._updateClassName=function(a,c){a=this._layer.getContext();c=h(c);if(this._prevClassName){if(this._prevClassName===c)return;b("CSS").removeClass(a,this._prevClassName)}b("CSS").addClass(a,c);this._prevClassName=c};return a}();function h(a){__p&&__p();var b=a.getAlignment();a=a.getPosition();if(a==="below")if(b==="left")return"_nk";else if(b==="right")return"_nl";else return"_nm";else if(a==="above")if(b==="left")return"_nn";else if(b==="right")return"_no";else return"_np";else if(a==="left")return"_nq";else return"_nr"}Object.assign(a.prototype,{_subscription:null,_prevClassName:null});e.exports=a}),null);
__d("VideoWithExternalLogger",["VideoPlayerLoggerEventField"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(a){this.$1=a.external_log_id,this.$2=a.external_log_type}var c=a.prototype;c.enable=function(a){this.$3=a;this.$3.setLogEntryPropertyGetters((a={},a[b("VideoPlayerLoggerEventField").EXTERNAL_LOG_ID]=this.$1,a[b("VideoPlayerLoggerEventField").EXTERNAL_LOG_TYPE]=this.$2,a))};c.disable=function(){this.$3=null};return a}();e.exports=a}),null);